<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black" />
<title>NCUACM刷题排行</title>
<link rel="stylesheet" href="css/normalize3.0.2.min.css" />
<link rel="stylesheet" href="css/css.css?v=15" />
<script>
        function showJson() {
            var test;
            if (window.XMLHttpRequest) {
                test = new XMLHttpRequest();
            } else if (window.ActiveXObject) {
                test = new window.ActiveXObject();
            } else {
                alert("请升级至最新版本的浏览器");
            }
            if (test != null) {
                test.open("GET", "http://localhost:3000/api/user/allSovled", true);
                test.send(null);
                test.onreadystatechange = function () {
                    if (test.readyState == 4 && test.status == 200) {
                        var obj = JSON.parse(test.responseText);
                        // console.log(obj[0].nickName);
                        var rank = document.getElementById('ranking_list')
                        for (var name in obj) {
                            if (name < 3) {
                                var item  = document.createElement("div");
                                item.innerHTML = '<section class="box"> <section class="col_1" title="'+name+'">'+name+'</section><section class="col_3">'+obj[name].nickName+'</section><section class="col_4">'+obj[name].allSovled+'</section></section>';
                                rank.appendChild(item);
                            }
                            else {
                                var item  = document.createElement("div");
                                item.innerHTML = '<section class="box"> <section class="col_1" >'+name+'</section><section class="col_3">'+obj[name].nickName+'</section><section class="col_4">'+obj[name].allSovled+'</section></section>';
                                rank.appendChild(item);
                            }
                        }
                    }
                };

            }
        }
        window.onload = function () {
            showJson();
        }
</script>
</head>
<body>

<section id="ranking"> <span id="ranking_title">Vjudge总计AC题量</span>
  <section id="ranking_list">
<!--   
    <section class="box">
      <section class="col_1" title="1">1</section>
      <section class="col_3">漫画之迷</section>
      <section class="col_4">5000</section>
    </section>
    <section class="box">
      <section class="col_1" title="2">2</section>
      <section class="col_3">漫画之迷</section>
      <section class="col_4">5000</section>
    </section>
    <section class="box cur">
      <section class="col_1" title="3">3</section>
      <section class="col_3">漫画之迷漫画之迷</section>
      <section class="col_4">5000</section>
    </section>
    <section class="box">
      <section class="col_1">4</section>
      <section class="col_3">漫画之迷</section>
      <section class="col_4">5000</section>
    </section>
    <section class="box">
      <section class="col_1">5</section>
      <section class="col_3">漫画之迷</section>
      <section class="col_4">5000</section>
    </section>
      <section class="box">
      <section class="col_1">6</section>
      <section class="col_3">漫画之迷</section>
      <section class="col_4">5000</section>
    </section> -->
  </section>
  <!-- <a id="play_game" href="#" title="开始游戏">开始游戏</a> </section> -->
<!-- <a id="return_back" href="#" title="返回">返回</a> -->
</body>
</html>
